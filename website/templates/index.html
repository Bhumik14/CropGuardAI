<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0 url=http://localhost:8501" />
    <title>CropGuard-AI</title>
    <link rel="stylesheet" href="/static/css/style.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
    />
  </head>
  <body>
    <section class="header">
      <nav>
        <a href="index.html"><img src="/static/images/Frame 1.png" /></a>
        <div class="nav-links" id="navLinks">
          <i class="fa-regular fa-circle-xmark" onclick="hideMenu()"></i>
          <ul>
            <li><a href="{{ url_for('views.home') }}">HOME</a></li>
            <li><a href="{{ url_for('views.about') }}">ABOUT US</a></li>
            <li><a href="{{ url_for('views.services') }}">SERVICES</a></li>
            <li><a href="{{ url_for('views.contact') }}">CONTACT US</a></li>
          </ul>
        </div>
        <i class="fa-solid fa-bars" onclick="showMenu()"></i>
      </nav>
      <div class="text-box">
        <h1>
          <span>Empowering Farmers</span> <br />Curing Crop Diseases for a
          Healthier Harvest
        </h1>
        <p>
          Enhancing agricultural productivity, leading to more bountiful and
          secure harvests,<br />
          which are essential for farmers' livelihoods and food security.
        </p>
        <div id="google_translate_element"></div>
        <a href='#weather-app' class="hero-btn">check weather </button></a>
        <a href="http://localhost:8501" class="hero-btn">upload image</a>
      </div>
    </section>

     <!-- -----------------------------WEATHER APPLICATION------------------------------ -->
    <div id="weather-app">
     <div class="section">
      <video autoplay muted loop class="background-video">
        <source src="/static/images/weather.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <div class="weatherapp">
        <div class="card">
          <div class="search">
            <input
              type="text"
              placeholder="Enter City Name.."
              spellcheck="false"
            />
            <button><img src="/static/images/search.png" /></button>
          </div>
          <div class="error">
            <p>Invalid city name</p>
          </div>
          <div class="weather">
            <img src="/static/images/rain.png" class="weather-icon" />
            <h1 class="temp">23°C</h1>
            <h2 class="city">Pune</h2>
            <div class="details">
              <div class="col">
                <img src="/static/images/humidity.png" />
                <div>
                  <p class="humidity">50%</p>
                  <p>Humidity</p>
                </div>
              </div>
              <div class="col">
                <img src="/static/images/wind.png" />
                <div>
                  <p class="wind">15 km/h</p>
                  <p>Wind-Speed</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

<!-- ------------------------------------News & Updates---------------------- -->
    <section class="newsupdate">
      <h1>Latest News</h1>
      <div id="news">Loading news...</div>
    </section>
    <script>
      const ApiKey = '7de191e847d84b21b84c7646a712b3ed'; // Replace with your actual News API key
const url = `https://newsapi.org/v2/everything?q=crops%20India%20Maharashtra&pageSize=12&apiKey=${ApiKey}`;

fetch(url)
    .then(response => {
        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }
        return response.json();
    })
    .then(data => {
        const newsContainer = document.getElementById('news');
        newsContainer.innerHTML = ''; // Clear any previous content

        data.articles.forEach(article => {
            const newsItem = document.createElement('div');
            newsItem.classList.add('news-item');

            const title = document.createElement('div');
            title.classList.add('news-title');
            title.textContent = article.title;

            const description = document.createElement('div');
            description.classList.add('news-description');
            description.textContent = article.description;

            const link = document.createElement('a');
            link.classList.add('news-link');
            link.href = article.url;
            link.target = '_blank';
            link.textContent = 'Read more';

            newsItem.appendChild(title);
            newsItem.appendChild(description);
            newsItem.appendChild(link);

            newsContainer.appendChild(newsItem);
        });
    })
    .catch(error => {
        document.getElementById('news').textContent = 'Failed to load news.';
        console.error('Error fetching news:', error);
    });

    </script>
    <!---------- Project ---------->

    <section class="Project">
      <h1>Our Project</h1>
      <p>
        At CropGuard-AI, we harness the power of AI to protect crops and secure
        farmers' livelihoods. Our mission is simple yet impactful: provide
        farmers with an intuitive tool that instantly detects crop diseases
        through image analysis. With real-time feedback and actionable insights,
        we empower farmers to make swift decisions, ensuring healthier crops and
        higher yields. Join us in revolutionizing agriculture—one click, one
        crop, one community at a time.
      </p>

      <div class="row">
        <div class="Project-col">
          <img src="/static/images/Project-1.jpg" />
          <div class="layer">
            <h3>Protecting Crops</h3>
          </div>
        </div>
        <div class="Project-col">
          <img src="/static/images/Project-2.jpg" />
          <div class="layer">
            <h3>Diseases & Treatments</h3>
          </div>
        </div>
        <div class="Project-col">
          <img src="/static/images/Project-3.jpg" />
          <div class="layer">
            <h3>Production & Market</h3>
          </div>
        </div>
      </div>
    </section>

    <!--------- Call To Action --------->

    <section class="cta">
      <h1>
        Support Us By Enrolling In Our Project<br />Anywhere From The World
      </h1>
      <a href="Contact.html" class="hero-btn">CONTACT US</a>
    </section>

    <!---------- FAQs ---------->

    <div class="faq-section">
      <h1>Frequently Asked Questions</h1>
      <div class="faq">
        <div class="question">
          <span>What are the common symptoms of crop diseases?</span>
          <svg class="icon" viewBox="0 0 24 24">
            <path d="M6 9l6 6 6-6"></path>
          </svg>
        </div>
        <div class="answer">
          <p>
            Common symptoms include yellowing of leaves, stunted growth, spots
            or lesions on leaves and fruits, wilting, and mold growth.
          </p>
        </div>
      </div>
      <div class="faq">
        <div class="question">
          <span>How can I prevent fungal infections in crops?</span>
          <svg class="icon" viewBox="0 0 24 24">
            <path d="M6 9l6 6 6-6"></path>
          </svg>
        </div>
        <div class="answer">
          <p>
            Fungal infections can be prevented by ensuring proper crop rotation,
            avoiding overhead watering, improving air circulation around plants,
            and using fungicide treatments when necessary.
          </p>
        </div>
      </div>
      <div class="faq">
        <div class="question">
          <span>Are there organic methods to control crop diseases?</span>
          <svg class="icon" viewBox="0 0 24 24">
            <path d="M6 9l6 6 6-6"></path>
          </svg>
        </div>
        <div class="answer">
          <p>
            Yes, organic methods include using compost tea, neem oil, baking
            soda sprays, and encouraging beneficial insects like ladybugs and
            lacewings.
          </p>
        </div>
      </div>
    </div>

    <!--------- Footer --------->

    <section class="footer">
      <h4>About Us</h4>
      <p>
        CropGuard-AI is a revolutionary platform that combines advanced AI with
        agriculture. <br />
        We help farmers detect crop diseases in real-time by simply uploading an
        image, enabling quick and informed decisions to protect their yield.
        <br />
        Join us in driving the future of smart farming. <br />
      </p>
      <div class="icons">
        <i class="fa-brands fa-facebook"></i>
        <i class="fa-brands fa-linkedin"></i>
        <i class="fa-brands fa-instagram"></i>
        <i class="fa-brands fa-whatsapp"></i>
        <i class="fa-brands fa-twitter"></i>
      </div>
      <p>Made with <i class="fa-regular fa-heart"></i> CropGuard-AI Ltd</p>
    </section>

    <!---------- JavaScript----------->

    <script>
      // ------------Toggle Menu-------------

      var navLinks = document.getElementById("navLinks");

      function showMenu() {
        navLinks.style.right = "0px";
      }

      function hideMenu() {
        navLinks.style.right = "-200px";
      }

      // --------------weather app-----------

      const apiKey = "8805259a09763c59b9addbf0a5b031ba";
      const apiUrl =
        "https://api.openweathermap.org/data/2.5/weather?&units=metric&q=";

        const searchBox = document.querySelector(".search input");
        const searchBtn = document.querySelector(".search button");
        const weatherIcon = document.querySelector(".weather-icon");
        
      async function checkWeather(city) {
        const response = await fetch(apiUrl + city + `&appid=${apiKey}`);

        if(response.status == 404){
            document.querySelector(".error").style.display = "block";
            document.querySelector(".weather").style.display = "none";
        }else{
            var data = await response.json();

        console.log(data);

        document.querySelector(".city").innerHTML = data.name;
        document.querySelector(".temp").innerHTML = Math.round(data.main.temp) + "°c";
        document.querySelector(".humidity").innerHTML = data.main.humidity + "%";
        document.querySelector(".wind").innerHTML = data.wind.speed + " km/h";

        if(data.weather[0].main == "Clouds"){
            weatherIcon.src = "/static/images/clouds.png";
        }else if(data.weather[0].main == "Clear"){
            weatherIcon.src = "/static/images/clear.png";
        }else if(data.weather[0].main == "Rain"){
            weatherIcon.src = "/static/images/rain.png";
        }else if(data.weather[0].main == "Drizzle"){
            weatherIcon.src = "/static/images/drizzle.png";
        }else if(data.weather[0].main == "Mist"){
            weatherIcon.src = "/static/images/mist.png";
        }     
        document.querySelector(".error").style.display = "none";
        }
      }
      searchBtn.addEventListener("click", () => {
             checkWeather(searchBox.value); // Pass the city name to the checkWeather function
      });

      
// Close the popup if the user clicks outside of it
window.onclick = function(event) {
    if (event.target == document.getElementById("chatbotContainer")) {
        document.getElementById("chatbotContainer").style.display = "none";
    }
};

  // --------------FAQ's------------------

  document.addEventListener("DOMContentLoaded", () => {
        const faqs = document.querySelectorAll(".faq");

        faqs.forEach((faq) => {
          const question = faq.querySelector(".question");

          question.addEventListener("click", () => {
            // Close other open FAQs
            faqs.forEach((item) => {
              if (item !== faq && item.classList.contains("active")) {
                item.classList.remove("active");
              }
            });

            // Toggle current FAQ
            faq.classList.toggle("active");
          });
        });
      });
    </script>
    
  <!-- ---------------------------Translator----------------- -->
<script type=
"text/javascript">
  function googleTranslateElementInit() {
      new google.translate.TranslateElement({pageLanguage: 'en', includedLanguages: 'mr,hi', layout: google.translate.TranslateElement.InlineLayout.SIMPLE}, 'google_translate_element');
  }
</script>

<script type=
"text/javascript" 
src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit">
</script>
<!-- ------------------------------------------------------------- -->



<!-- ---------------------------ChatBot----------------- -->
<script src="https://cdn.botpress.cloud/webchat/v2.1/inject.js"></script>
<script src="https://mediafiles.botpress.cloud/1bc72051-6bd8-4b37-ad50-60161dc0516a/webchat/v2.1/config.js"></script>
<!-- ---------------------------------------------------- -->

</body>
</html>
